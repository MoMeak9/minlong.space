Anthropic 刚刚发布了 [Claude 4](https://www.anthropic.com/news/claude-4)，引起了巨大反响——尤其对以编写代码为生的开发者而言。你需要了解两个模型版本：Claude 4 Opus 和 Claude 4 Sonnet，以下是关键信息。

## **Opus 与 Sonnet 对比**

**Opus** 是性能最强的版本。作为迄今为止最先进的 Claude 模型，它专为解决深度问题和长时间任务而设计。在测试中，它实现了连续 7 小时不丢失上下文的自主编程会话，在 SWE-bench 测试中以 72.5%的得分超越了 GPT-4.1，目前高居排行榜首位。

该模型还支持"扩展思考"功能——将任务拆解为步骤、调用浏览器或 API 等工具后继续推理。这对复杂调试、长期规划或探索性编程极具价值，但价格不菲：Opus 每百万输入 token 收费 15 美元，输出则需 75 美元。

**Sonnet** 更具性价比（每百万 token 输入 3 美元/输出 15 美元）且响应更快。它仍保持顶级性能（SWE-bench 得分 72.7%），并[已默认集成于 GitHub Copilot](https://github.blog/changelog/2025-05-22-claude-models-in-github-copilot/)。Sonnet 与 Opus 同样支持 20 万 token 的上下文长度，主观体验显示其上下文利用效率优于前代 Claude 模型，具体表现为：减少重复提问、提升代码整合能力、更智能地复用先前逻辑。

## **我们的观点**

Sonnet 4 成为我们的默认选择是有原因的。它更快、更精准，且能很好地适应实际项目。与其他模型相比，它生成的"补丁修复"变通方案更少，产生的代码能更整洁地融入现有架构。在有效利用长上下文方面表现尤其突出——这对查找隐蔽缺陷或复用早期定义特别有帮助。

Opus 虽功能强大但成本高昂。我们只在 Sonnet 处理受阻时才会启用它——特别是在深度调试或棘手重构时。但日常使用并不现实。我们曾见过 Opus 在单次任务上花费 5-10 美元。效果虽好，但 Sonnet 能胜任 90% 的工作场景。

## **性能对比**

尽管 Anthropic 宣称其模型具有标杆级的性能表现，但我们尚未见到这些模型被纳入公开可用的基准测试——或许后续会有变化。以下是他们官方提供的性能数据：

![img](https://fs.yihuiblog.top/i/2025/07/15/e6624197-d779-0d2a-86f2-c4b129f0d894-0.png)

**Claude Sonnet 4：**

- 每个输入 token 的成本低于 GPT-4o 和 Gemini Pro
- 上下文长度与 Claude 3.5 相同（200K tokens）
- 擅长复用项目逻辑，幻觉现象更少

**Claude Opus 4：**

- 具备最先进的推理和编程准确性
- 成本较高，推理速度较慢
- 最适合长时间会话或类似代理的工作流程

## **新特性**

Claude 4 模型现已具备"分阶段思考"能力。这意味着它们能够暂停执行，进行工具辅助推理，并返回更精准的结果。该系列模型还支持 20 万 token 的上下文窗口，可处理包含完整项目、文档或多文件差异的大规模提示。

在实际运用上下文时，Sonnet 表现出色。它能准确调用辅助函数，遵循命名规范，并以极低的摩擦度融入您的代码库。它不会简单粘贴模板代码——而是真正理解代码的适配性。

## **实际应用场景**

我们在 Claude Code 中广泛使用了 Sonnet 模型。与旧版本相比，它在生成上下文感知建议方面表现更出色。它能写出与你的代码库风格一致的代码——不仅仅是复制粘贴逻辑，而是遵循现有模式的干净修改。

调试也更加高效。Claude 4 能够追踪跨多个文件的复杂 bug，通常无需提示。这直接得益于其更强的长上下文处理能力和改进的推理功能。

当我们遇到难题时——尤其是那些模糊或多层次的复杂问题时，Opus 会介入。由于成本和速度因素，它并非默认选项，但在极端案例中，它可以帮我们节省数小时的试错时间。

## **外部反应**

Claude 4 表现出全面优势。Ars Technica 报道称 Opus 模型在 SWE-bench 测试中解决的 GitHub 问题比 GPT-4 多 43%。Wired 杂志则强调其超长注意力跨度，并引用持续 7 小时的 [Pokémon 智能体演示](https://www.wired.com/story/anthropic-claude-4-pokemon-agent/)作为其持久规划能力的证明。

《The Verge》重点关注实际开发工具：GitHub Copilot 现已默认采用 Sonnet 模型，Opus 则提供于高级版本中。Hacker News 上的开发者们称赞 Sonnet 的低门槛与快速响应能力。部分评论者指出 Opus 在处理复杂工具使用时仍有不足，但一致认可其在问题持续解决方面表现更优。

## **最后总结**

若追求快速且经济高效的开发助手，Sonnet 是不二之选。若需进行 AI 代理实验或解决复杂问题需深度推理时，Opus 随时待命。Claude 4 提升了标准——对开发者而言，这意味着更智能的工具和更少的烦恼。